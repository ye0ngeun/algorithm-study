import sys
from collections import deque
input = sys.stdin.readline

# - 톱니바퀴 4개, 각각 8개의 톱니(0= N극, 1= S극)
# - 톱니바퀴는 deque로 표현 (양 끝 회전이 편리)
# - 특정 톱니를 회전시킬 때, 인접 톱니는 맞물린 극(2번 인덱스, 6번 인덱스)에 따라 회전이 전파됨
# - 단, 전파 방향은 입력 받은 톱니에서 좌우로 퍼지며 동시에 적용해야 함

# 1. 입력 처리
#    - 4개의 톱니 상태(문자열 8자리)를 deque로 변환하여 저장
#    - 회전 횟수 k 입력
gears = [deque(map(int, input().strip())) for _ in range(4)]
k = int(input())

# 2. 회전 명령 처리 반복
for _ in range(k):
    # 회전할 톱니 번호(1~4), 방향(1=시계, -1=반시계)
    # 리스트 인덱스(0~3)로 맞춤

    # 2-1. 각 톱니별 회전 방향 기록용 배열 (초기 0: 회전 안 함)
    

    # 2-2. 왼쪽 전파 확인
    #      - 기준 톱니의 왼쪽으로 하나씩 가며 맞물린 극이 다르면 반대 방향으로 회전
    #      - 같으면 전파 중단
    

    # 2-3. 오른쪽 전파 확인
    

    # 2-4. 실제 회전 적용
    #      deque.rotate(1): 시계 방향
    #      deque.rotate(-1): 반시계 방향
    

# 3. 최종 점수 계산
#    - 각 톱니바퀴의 12시 방향(인덱스 0)에 S극(1)이 있으면 점수 획득
#    - 1번=1점, 2번=2점, 3번=4점, 4번=8점
